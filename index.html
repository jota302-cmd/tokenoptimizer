<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Token-Optimizer | OptiMicroTools</title>
    <meta name="description"
        content="Optimize and compress your LLM prompts locally. Save tokens for GPT-4 and Claude without losing meaning.">

    <!-- AdSense Script -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8167884438770174"
        crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --cyan-electric: #06B6D4;
            --cyan-glow: rgba(6, 182, 212, 0.4);
            --dark-bg: #000000;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-main: #FFFFFF;
            --text-dim: #94A3B8;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--dark-bg);
            background-image: radial-gradient(circle at 50% -20%, #111111 0%, #000000 70%);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- Scrollbar --- */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #000;
        }

        ::-webkit-scrollbar-thumb {
            background: #1a1a1a;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--cyan-electric);
        }

        /* --- Layout --- */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        header {
            padding: 2.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.02);
        }

        .logo h1 {
            font-size: 1.6rem;
            font-weight: 800;
            letter-spacing: -0.05em;
            color: #fff;
        }

        .logo h1 span {
            color: var(--cyan-electric);
            text-shadow: 0 0 15px var(--cyan-glow);
        }

        .lang-btn {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-main);
            padding: 0.6rem 1.2rem;
            border-radius: 99px;
            font-size: 0.75rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .lang-btn:hover {
            border-color: var(--cyan-electric);
            background: rgba(6, 182, 212, 0.1);
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.1);
        }

        /* --- Main Component --- */
        main {
            flex: 1;
            padding-bottom: 5rem;
        }

        .hero {
            text-align: center;
            margin: 4rem 0;
        }

        .hero h2 {
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            font-weight: 800;
            margin-bottom: 1rem;
            letter-spacing: -0.04em;
            line-height: 1.1;
        }

        .hero p {
            color: var(--text-dim);
            font-size: 1.15rem;
            max-width: 650px;
            margin: 0 auto;
        }

        /* --- Tool Interface --- */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 2rem;
            padding: 2.5rem;
            transition: border-color 0.3s ease;
        }

        .controls-bar {
            margin-bottom: 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.5rem;
        }

        .setting-group {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .setting-group label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        select {
            background: #000;
            border: 1px solid var(--glass-border);
            color: #fff;
            padding: 0.7rem 1.2rem;
            border-radius: 1rem;
            font-family: inherit;
            font-size: 0.9rem;
            font-weight: 500;
            outline: none;
            cursor: pointer;
            transition: var(--transition);
        }

        select:focus {
            border-color: var(--cyan-electric);
            box-shadow: 0 0 15px rgba(6, 182, 212, 0.1);
        }

        .stats-chip {
            display: flex;
            gap: 2rem;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .stats-chip .savings-val {
            color: var(--cyan-electric);
            text-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
        }

        .stats-chip .words-val {
            color: var(--text-dim);
        }

        .editor-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
        }

        .editor-box {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-header h3 {
            font-size: 1rem;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .editor-header span {
            font-size: 0.75rem;
            color: var(--text-dim);
            font-weight: 500;
        }

        textarea {
            width: 100%;
            height: 420px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
            border-radius: 1.25rem;
            padding: 1.75rem;
            color: #fff;
            font-family: inherit;
            font-size: 1rem;
            resize: none;
            outline: none;
            transition: var(--transition);
        }

        textarea:focus {
            border-color: var(--cyan-electric);
            background: rgba(6, 182, 212, 0.02);
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        }

        textarea[readonly] {
            background: rgba(0, 0, 0, 0.4);
            cursor: default;
        }

        .btn-primary {
            background: var(--cyan-electric);
            color: #000;
            border: none;
            padding: 1.1rem 2rem;
            border-radius: 1.25rem;
            font-weight: 800;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 1.5rem;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.02em;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(6, 182, 212, 0.4);
            filter: brightness(1.1);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        /* --- Ad Slots --- */
        .ad-slot {
            width: 100%;
            min-height: 100px;
            background: rgba(255, 255, 255, 0.01);
            border: 1px dashed var(--glass-border);
            border-radius: 1.25rem;
            margin: 3rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.65rem;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            font-weight: 700;
        }

        /* --- Footer --- */
        footer {
            padding: 5rem 0;
            border-top: 1px solid var(--glass-border);
            text-align: center;
            background: linear-gradient(to bottom, transparent, rgba(6, 182, 212, 0.02));
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
        }

        .footer-links button {
            background: none;
            border: none;
            color: var(--text-dim);
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: var(--transition);
            position: relative;
        }

        .footer-links button::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--cyan-electric);
            transition: var(--transition);
        }

        .footer-links button:hover {
            color: #fff;
        }

        .footer-links button:hover::after {
            width: 100%;
        }

        .copyright {
            color: #333;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 1rem;
        }

        /* --- Modals --- */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(12px);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
        }

        .modal-overlay.active {
            display: flex;
            animation: modalIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .modal-content {
            background: #050505;
            border: 1px solid var(--glass-border);
            border-radius: 2.5rem;
            max-width: 600px;
            width: 100%;
            padding: 3.5rem;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 40px 100px rgba(0, 0, 0, 0.8);
        }

        .modal-close {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-dim);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .modal-close:hover {
            border-color: var(--cyan-electric);
            color: #fff;
            transform: rotate(90deg);
        }

        .modal-body h2 {
            margin-bottom: 1.5rem;
            font-size: 2rem;
            font-weight: 800;
            letter-spacing: -0.04em;
        }

        .modal-body p {
            color: var(--text-dim);
            margin-bottom: 2rem;
            font-size: 1rem;
            line-height: 1.7;
        }

        .btn-modal {
            width: 100%;
            padding: 1.1rem;
            border-radius: 1.25rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
            font-size: 0.9rem;
        }

        .btn-accept {
            background: var(--cyan-electric);
            color: #000;
            border: none;
        }

        .btn-accept:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(6, 182, 212, 0.3);
        }

        .btn-outline {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--glass-border);
            color: #fff;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .btn-outline:hover {
            border-color: var(--cyan-electric);
            background: rgba(6, 182, 212, 0.05);
            color: var(--cyan-electric);
        }

        .crypto-box {
            background: #000;
            border: 1px solid var(--glass-border);
            padding: 1.25rem;
            border-radius: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 1.5rem;
            transition: var(--transition);
        }

        .crypto-box:hover {
            border-color: var(--cyan-glow);
        }

        .crypto-addr {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--cyan-electric);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-right: 1.5rem;
            font-weight: 600;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* --- Mobile --- */
        @media (max-width: 900px) {
            .editor-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .hero h2 {
                font-size: 3rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .glass-card {
                padding: 1.5rem;
            }

            .modal-content {
                padding: 2.5rem 1.5rem;
            }

            .controls-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .stats-chip {
                justify-content: space-between;
                gap: 1rem;
            }
        }
    </style>
</head>

<body>

    <header class="container">
        <a href="https://optimicrotools.com" class="logo" title="Go to Home / Ir al Inicio">
            <h1>Opti<span>Micro</span>Tools</h1>
        </a>
        <button id="langToggle" class="lang-btn">ES</button>
    </header>

    <main class="container">
        <div class="ad-slot" data-label="Ads / Anuncio"></div>

        <section class="hero">
            <h2 id="mainTitle">LLM Token-Optimizer</h2>
            <p id="mainSubtitle">Reduce prompt cost and complexity without losing semantic depth.</p>
        </section>

        <section class="glass-card">
            <div class="controls-bar">
                <div class="setting-group">
                    <label id="levelLabel">Mode:</label>
                    <select id="compressionLevel">
                        <option value="low" id="optLow">Standard Cleanup</option>
                        <option value="medium" id="optMed">Balanced Optimization</option>
                        <option value="high" id="optHigh">Aggressive List Mode</option>
                    </select>
                </div>
                <div class="stats-chip">
                    <span id="charSaving" class="savings-val">Savings: 0%</span>
                    <span id="wordSaving" class="words-val">0 words saved</span>
                </div>
            </div>

            <div class="editor-grid">
                <div class="editor-box">
                    <div class="editor-header">
                        <h3 id="inputTitle">Source Prompt</h3>
                        <span id="inputCharCount">0 characters</span>
                    </div>
                    <textarea id="inputText" placeholder="Paste your massive prompt here..."></textarea>
                </div>
                <div class="editor-box">
                    <div class="editor-header">
                        <h3 id="outputTitle">Optimized Output</h3>
                        <span id="outputCharCount">0 characters</span>
                    </div>
                    <textarea id="outputText" readonly placeholder="Optimized result will appear here..."></textarea>
                    <button id="copyBtn" class="btn-primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path
                                d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3">
                            </path>
                        </svg>
                        <span id="copyText">Copy Result</span>
                    </button>
                </div>
            </div>
        </section>

        <div class="ad-slot" data-label="Ads / Anuncio"></div>
    </main>

    <footer class="container">
        <div class="footer-links">
            <button onclick="openModal('privacy')" id="footerPrivacy">Privacy Policy</button>
            <button onclick="openModal('terms')" id="footerTerms">Terms of Service</button>
            <button onclick="openModal('support')" id="footerSupport">Support Project</button>
            <button onclick="openModal('contact')" id="footerContact">Contact</button>
        </div>
        <p class="copyright">&copy; 2026 OptiMicroTools. All rights reserved.</p>
    </footer>

    <!-- MODALS -->
    <div id="modalOverlay" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modalBody" class="modal-body">
                <!-- Injected content -->
            </div>
        </div>
    </div>

    <script>
        const translations = {
            en: {
                mainTitle: "LLM Token-Optimizer",
                mainSubtitle: "Reduce prompt cost and complexity without losing semantic depth.",
                levelLabel: "Optimization Mode:",
                optLow: "Standard Cleanup",
                optMed: "Balanced Optimization",
                optHigh: "Aggressive List Mode",
                inputTitle: "Source Prompt",
                outputTitle: "Optimized Output",
                inputTextPlace: "Paste your massive prompt here...",
                outputTextPlace: "Optimized result will appear here...",
                copyText: "Copy Result",
                copied: "Copied!",
                savings: "Savings:",
                wordsSaved: "words saved",
                charCount: "characters",
                footerPrivacy: "Privacy Policy",
                footerTerms: "Terms or Service",
                footerSupport: "Support Project",
                footerContact: "Contact",
                legalAccept: "Accept & Continue",
                privacyTitle: "Privacy First Policy",
                termsTitle: "Terms of Use",
                supportTitle: "Support the Project",
                contactTitle: "Official Contact",
                privacyContent: "All processing is performed locally in your browser using Vanilla JavaScript. No data is ever sent to our servers. Your prompts remain 100% private.",
                termsContent: "This tool is provided 'as is'. While we aim to maintain semantic integrity, always review the optimized output before using it with production LLMs.",
                supportContent: "Help us keep these tools free and ad-light. Your contribution supports infrastructure and development.",
                contactContent: "Have questions or need a custom micro-tool? Reach out through our official channels.",
                cryptoLabel: "USDT (TRC20) Address:",
                copyAddr: "Copy Address"
            },
            es: {
                mainTitle: "Optimizador de Tokens LLM",
                mainSubtitle: "Reduce el costo y complejidad de tus prompts sin perder profundidad sem√°ntica.",
                levelLabel: "Modo de Optimizaci√≥n:",
                optLow: "Limpieza Est√°ndar",
                optMed: "Optimizaci√≥n Balanceada",
                optHigh: "Modo Lista Agresivo",
                inputTitle: "Prompt Original",
                outputTitle: "Resultado Optimizado",
                inputTextPlace: "Pega tu prompt masivo aqu√≠...",
                outputTextPlace: "El resultado optimizado aparecer√° aqu√≠...",
                copyText: "Copiar Resultado",
                copied: "¬°Copiado!",
                savings: "Ahorro:",
                wordsSaved: "palabras ahorradas",
                charCount: "caracteres",
                footerPrivacy: "Privacidad",
                footerTerms: "T√©rminos",
                footerSupport: "Apoyar Proyecto",
                footerContact: "Contacto",
                legalAccept: "Aceptar y Continuar",
                privacyTitle: "Pol√≠tica de Privacidad Local",
                termsTitle: "T√©rminos de Uso",
                supportTitle: "Apoya el Proyecto",
                contactTitle: "Contacto Oficial",
                privacyContent: "Todo el procesamiento se realiza localmente en tu navegador. Ning√∫n dato es enviado a nuestros servidores. Tus prompts son 100% privados.",
                termsContent: "Esta herramienta se entrega 'tal cual'. Aunque buscamos mantener la integridad sem√°ntica, siempre revisa el resultado antes de usarlo en producci√≥n.",
                supportContent: "Ay√∫danos a mantener estas herramientas gratuitas y con publicidad m√≠nima. Tu contribuci√≥n apoya la infraestructura y el desarrollo.",
                contactContent: "¬øTienes dudas o necesitas una herramienta a medida? Cont√°ctanos por canales oficiales.",
                cryptoLabel: "Direcci√≥n USDT (TRC20):",
                copyAddr: "Copiar Direcci√≥n"
            }
        };

        const stopWords = {
            en: new Set(['the', 'a', 'an', 'and', 'or', 'but', 'for', 'nor', 'by', 'at', 'from', 'each', 'this', 'that', 'with', 'which', 'whom', 'where', 'while', 'after', 'before', 'then']),
            es: new Set(['el', 'la', 'un', 'una', 'y', 'o', 'pero', 'por', 'que', 'en', 'cada', 'este', 'ese', 'con', 'cual', 'donde', 'cuando', 'quien', 'antes', 'despues', 'luego'])
        };

        let currentLang = 'en';

        // --- Core Logic ---
        function init() {
            try {
                const savedLang = localStorage.getItem('ot_lang') || (navigator.language.startsWith('es') ? 'es' : 'en');
                setLanguage(savedLang);

                checkLegalPersistence();

                setupEventListeners();
            } catch (e) {
                console.error("Initialization error:", e);
            }
        }

        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('ot_lang', lang);
            document.documentElement.lang = lang;

            const t = translations[lang];
            document.getElementById('langToggle').textContent = lang === 'en' ? 'ES' : 'EN';

            document.getElementById('mainTitle').textContent = t.mainTitle;
            document.getElementById('mainSubtitle').textContent = t.mainSubtitle;
            document.getElementById('levelLabel').textContent = t.levelLabel;
            document.getElementById('optLow').textContent = t.optLow;
            document.getElementById('optMed').textContent = t.optMed;
            document.getElementById('optHigh').textContent = t.optHigh;
            document.getElementById('inputTitle').textContent = t.inputTitle;
            document.getElementById('outputTitle').textContent = t.outputTitle;
            document.getElementById('inputText').placeholder = t.inputTextPlace;
            document.getElementById('outputText').placeholder = t.outputTextPlace;
            document.getElementById('copyText').textContent = t.copyText;
            document.getElementById('footerPrivacy').textContent = t.footerPrivacy;
            document.getElementById('footerTerms').textContent = t.footerTerms;
            document.getElementById('footerSupport').textContent = t.footerSupport;
            document.getElementById('footerContact').textContent = t.footerContact;

            updateStats();
        }

        function setupEventListeners() {
            const input = document.getElementById('inputText');
            const level = document.getElementById('compressionLevel');

            input.addEventListener('input', () => debounce(processOptimization(), 300));
            level.addEventListener('change', () => processOptimization());

            document.getElementById('langToggle').onclick = () => {
                setLanguage(currentLang === 'en' ? 'es' : 'en');
            };

            document.getElementById('copyBtn').onclick = () => copyToClipboard();
        }

        function processOptimization() {
            try {
                const text = document.getElementById('inputText').value.trim();
                const level = document.getElementById('compressionLevel').value;
                const output = document.getElementById('outputText');

                if (!text) {
                    output.value = '';
                    updateStats();
                    return;
                }

                let result = text;

                // Level 1: Cleanup
                result = result.replace(/\s+/g, ' ').replace(/\n\s*\n/g, '\n').trim();

                // Level 2: Semantic (Stop-words)
                if (level === 'medium' || level === 'high') {
                    const words = result.split(/\s+/);
                    const filtered = words.filter(word => {
                        const clean = word.toLowerCase().replace(/[.,!?;:]/g, '');
                        return !stopWords.en.has(clean) && !stopWords.es.has(clean);
                    });
                    result = filtered.join(' ');
                }

                // Level 3: Structural (Lists)
                if (level === 'high') {
                    const sentences = result.split(/[.!?]+/).filter(s => s.trim().length > 5);
                    result = sentences.map(s => `‚Ä¢ ${s.trim()}`).join('\n');
                }

                output.value = result;
                updateStats();

            } catch (err) {
                console.error("Optimization failed:", err);
            }
        }

        function updateStats() {
            const iVal = document.getElementById('inputText').value;
            const oVal = document.getElementById('outputText').value;
            const t = translations[currentLang];

            document.getElementById('inputCharCount').textContent = `${iVal.length} ${t.charCount}`;
            document.getElementById('outputCharCount').textContent = `${oVal.length} ${t.charCount}`;

            if (iVal.length > 0) {
                const diff = iVal.length - oVal.length;
                const perc = Math.round((diff / iVal.length) * 100) || 0;
                document.getElementById('charSaving').textContent = `${t.savings} ${perc}%`;

                const wordDiff = (iVal.split(/\s+/).length - oVal.split(/\s+/).length);
                document.getElementById('wordSaving').textContent = `${wordDiff} ${t.wordsSaved}`;
            } else {
                document.getElementById('charSaving').textContent = `${t.savings} 0%`;
                document.getElementById('wordSaving').textContent = `0 ${t.wordsSaved}`;
            }
        }

        function copyToClipboard() {
            const val = document.getElementById('outputText').value;
            if (!val) return;

            navigator.clipboard.writeText(val).then(() => {
                const btnText = document.getElementById('copyText');
                const original = btnText.textContent;
                btnText.textContent = translations[currentLang].copied;
                setTimeout(() => btnText.textContent = original, 2000);
            });
        }

        // --- Modal System ---
        function openModal(type) {
            const t = translations[currentLang];
            const body = document.getElementById('modalBody');
            const overlay = document.getElementById('modalOverlay');

            let content = '';

            switch (type) {
                case 'privacy':
                    content = `<h2>${t.privacyTitle}</h2><p>${t.privacyContent}</p><button class="btn-modal btn-accept" onclick="acceptLegal()">${t.legalAccept}</button>`;
                    break;
                case 'terms':
                    content = `<h2>${t.termsTitle}</h2><p>${t.termsContent}</p><button class="btn-modal btn-accept" onclick="acceptLegal()">${t.legalAccept}</button>`;
                    break;
                case 'support':
                    content = `
                        <h2>${t.supportTitle}</h2>
                        <p>${t.supportContent}</p>
                        <div style="display:grid; gap:1.25rem;">
                            <a href="https://www.buymeacoffee.com/jota302" target="_blank" class="btn-outline btn-modal">Buy Me a Coffee</a>
                            <a href="https://paypal.me/jota302" target="_blank" class="btn-outline btn-modal">PayPal</a>
                            <div class="crypto-box">
                                <span class="crypto-addr" id="cryptoAddr">TE95Gtd8qTWnsEcqXxDEoQoKLNg2hMvVtV</span>
                                <button onclick="copyCrypto()" class="lang-btn" style="border-radius:12px">${t.copyAddr}</button>
                            </div>
                        </div>
                    `;
                    break;
                case 'contact':
                    content = `
                        <h2>${t.contactTitle}</h2>
                        <p>${t.contactContent}</p>
                        <div style="display:grid; gap:1.25rem;">
                            <a href="https://x.com/optimicrotools" target="_blank" class="btn-outline btn-modal">ùïè (Twitter)</a>
                            <a href="mailto:jota302@gmail.com" class="btn-outline btn-modal">Official Email Support</a>
                        </div>
                    `;
                    break;
            }

            body.innerHTML = content;
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function acceptLegal() {
            localStorage.setItem('ot_legal_v2', 'true');
            closeModal();
        }

        function checkLegalPersistence() {
            if (!localStorage.getItem('ot_legal_v2')) {
                setTimeout(() => openModal('privacy'), 1500);
            }
        }

        function copyCrypto() {
            const addr = document.getElementById('cryptoAddr').textContent;
            navigator.clipboard.writeText(addr).then(() => {
                alert(translations[currentLang].copied);
            });
        }

        let debounceTimer;
        function debounce(callback, time) {
            window.clearTimeout(debounceTimer);
            debounceTimer = window.setTimeout(callback, time);
        }

        // Init App
        window.onload = init;
    </script>
</body>

</html>